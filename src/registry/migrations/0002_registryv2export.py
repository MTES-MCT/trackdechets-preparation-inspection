# Generated by Django 5.2 on 2025-04-29 08:47

import datetime
import uuid

import django.db.models.deletion
import django.utils.timezone
from django.conf import settings
from django.db import migrations, models

import registry.models


class Migration(migrations.Migration):

    dependencies = [
        ('registry', '0001_initial'),
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.CreateModel(
            name='RegistryV2Export',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('siret', models.CharField(max_length=20, verbose_name='Établissement concerné')),
                ('registry_type', models.CharField(choices=[('ALL', 'Registre exhaustif'), ('INCOMING', 'Registre entrant'), ('MANAGED', 'Registre de gestion'), ('OUTGOING', 'Registre sortant'), ('SSD', 'Registre Sortie de statut de déchet'), ('TRANSPORTED', 'Registre de transport')], max_length=20, verbose_name='Type de registre')),
                ('declaration_type', models.CharField(choices=[('ALL', 'Tous'), ('BSD', 'Tracé (bordereaux)'), ('REGISTRY', 'Déclaré (registre national)')], default='ALL', max_length=20, verbose_name='Type de déclaration')),
                ('waste_types_dnd', models.BooleanField(blank=True, default=False, verbose_name='Déchets non dangereux')),
                ('waste_types_dd', models.BooleanField(blank=True, default=False, verbose_name='Déchets dangereux')),
                ('waste_types_texs', models.BooleanField(blank=True, default=False, verbose_name='Terres et sédiments')),
                ('waste_codes', registry.models.ChoiceArrayField(base_field=models.CharField(blank=True, choices=[('01 01 01', "01 01 01 - déchets provenant de l'extraction des minéraux métallifères"), ('01 01 02', "01 01 02 - déchets provenant de l'extraction des minéraux non métallifères"), ('01 03 04*', '01 03 04* - stériles acidogènes provenant de la transformation du sulfure'), ('01 03 05*', '01 03 05* - autres stériles contenant des substances dangereuses'), ('01 03 06', '01 03 06 - stériles autres que ceux visés aux rubriques 01 03 04 et 01 03 05'), ('01 03 07*', '01 03 07* - autres déchets contenant des substances dangereuses provenant de la transformation physique et chimique des minéraux métallifères'), ('01 03 08', '01 03 08 - déchets de poussières et de poudres autres que ceux visés à la rubrique 01 03 07'), ('01 03 09', "01 03 09 - boues rouges issues de la production d'alumine autres que celles visées à la rubrique 01 03 10"), ('01 03 10*', "01 03 10* - boues rouges issues de la production d'alumine contenant des substances dangereuses, autres que les déchets visés à la rubrique 01 03 07"), ('01 03 99', '01 03 99 - déchets non spécifiés ailleurs'), ('01 04 07*', '01 04 07* - déchets contenant des substances dangereuses provenant de la transformation physique et chimique des minéraux non métallifères'), ('01 04 08', '01 04 08 - déchets de graviers et débris de pierres autres que ceux visés à la rubrique 01 04 07'), ('01 04 09', "01 04 09 - déchets de sable et d'argile"), ('01 04 10', '01 04 10 - déchets de poussières et de poudres autres que ceux visés à la rubrique 01 04 07'), ('01 04 11', '01 04 11 - déchets de la transformation de la potasse et des sels minéraux autres que ceux visés à la rubrique 01 04 07'), ('01 04 12', '01 04 12 - stériles et autres déchets provenant du lavage et du nettoyage des minéraux autres que ceux visés aux rubriques 01 04 07 et 01 04 11'), ('01 04 13', '01 04 13 - déchets provenant de la taille et du sciage des pierres autres que ceux visés à la rubrique 01 04 07'), ('01 04 99', '01 04 99 - déchets non spécifiés ailleurs'), ('01 05 04', "01 05 04 - boues et autres déchets de forage à l'eau douce"), ('01 05 05*', '01 05 05* - boues et autres déchets de forage contenant des hydrocarbures'), ('01 05 06*', '01 05 06* - boues de forage et autres déchets de forage contenant des substances dangereuses'), ('01 05 07', '01 05 07 - boues et autres déchets de forage contenant des sels de baryum, autres que ceux visés aux rubriques 01 05 05 et 01 05 06'), ('01 05 08', '01 05 08 - boues et autres déchets de forage contenant des chlorures, autres que ceux visés aux rubriques 01 05 05 et 01 05 06'), ('01 05 99', '01 05 99 - déchets non spécifiés ailleurs'), ('02 01 01', '02 01 01 - boues provenant du lavage et du nettoyage'), ('02 01 02', '02 01 02 - déchets de tissus animaux'), ('02 01 03', '02 01 03 - déchets de tissus végétaux'), ('02 01 04', "02 01 04 - déchets de matières plastiques (à l'exclusion des emballages)"), ('02 01 06', '02 01 06 - fèces, urine et fumier (y compris paille souillée), effluents, collectés séparément et traités hors site'), ('02 01 07', '02 01 07 - déchets provenant de la sylviculture'), ('02 01 08*', '02 01 08* - déchets agrochimiques contenant des substances dangereuses'), ('02 01 09', '02 01 09 - déchets agrochimiques autres que ceux visés à la rubrique 02 01 08'), ('02 01 10', '02 01 10 - déchets métalliques'), ('02 01 99', '02 01 99 - déchets non spécifiés ailleurs'), ('02 02 01', '02 02 01 - boues provenant du lavage et du nettoyage'), ('02 02 02', '02 02 02 - déchets de tissus animaux'), ('02 02 03', '02 02 03 - matières impropres à la consommation ou à la transformation'), ('02 02 04', '02 02 04 - boues provenant du traitement in situ des effluents'), ('02 02 99', '02 02 99 - déchets non spécifiés ailleurs'), ('02 03 01', "02 03 01 - boues provenant du lavage, du nettoyage, de l'épluchage, de la centrifugation et de la séparation"), ('02 03 02', "02 03 02 - déchets d'agents de conservation"), ('02 03 03', "02 03 03 - déchets de l'extraction aux solvants"), ('02 03 04', '02 03 04 - matières impropres à la consommation ou à la transformation'), ('02 03 05', '02 03 05 - boues provenant du traitement in situ des effluents'), ('02 03 99', '02 03 99 - déchets non spécifiés ailleurs'), ('02 04 01', '02 04 01 - terre provenant du lavage et du nettoyage des betteraves'), ('02 04 02', '02 04 02 - carbonate de calcium déclassé'), ('02 04 03', '02 04 03 - boues provenant du traitement in situ des effluents'), ('02 04 99', '02 04 99 - déchets non spécifiés ailleurs'), ('02 05 01', '02 05 01 - matières impropres à la consommation ou à la transformation'), ('02 05 02', '02 05 02 - boues provenant du traitement in situ des effluents'), ('02 05 99', '02 05 99 - déchets non spécifiés ailleurs'), ('02 06 01', '02 06 01 - matières impropres à la consommation ou à la transformation'), ('02 06 02', "02 06 02 - déchets d'agents de conservation"), ('02 06 03', '02 06 03 - boues provenant du traitement in situ des effluents'), ('02 06 99', '02 06 99 - déchets non spécifiés ailleurs'), ('02 07 01', '02 07 01 - déchets provenant du lavage, du nettoyage et de la réduction mécanique des matières premières'), ('02 07 02', "02 07 02 - déchets de la distillation de l'alcool"), ('02 07 03', '02 07 03 - déchets de traitements chimiques'), ('02 07 04', '02 07 04 - matières impropres à la consommation ou à la transformation'), ('02 07 05', '02 07 05 - boues provenant du traitement in situ des effluents'), ('02 07 99', '02 07 99 - déchets non spécifiés ailleurs'), ('03 01 01', "03 01 01 - déchets d'écorce et de liège"), ('03 01 04*', '03 01 04* - sciure de bois, copeaux, chutes, bois, panneaux de particules et placages contenant des substances dangereuses'), ('03 01 05', '03 01 05 - sciure de bois, copeaux, chutes, bois, panneaux de particules et placages autres que ceux visés à la rubrique 03 01 04'), ('03 01 99', '03 01 99 - déchets non spécifiés ailleurs'), ('03 02 01*', '03 02 01* - composés organiques non halogénés de protection du bois'), ('03 02 02*', '03 02 02* - composés organochlorés de protection du bois'), ('03 02 03*', '03 02 03* - composés organométalliques de protection du bois'), ('03 02 04*', '03 02 04* - composés inorganiques de protection du bois'), ('03 02 05*', '03 02 05* - autres produits de protection du bois contenant des substances dangereuses'), ('03 02 99', '03 02 99 - produits de protection du bois non spécifiés ailleurs'), ('03 03 01', "03 03 01 - déchets d'écorce et de bois"), ('03 03 02', '03 03 02 - liqueurs vertes (provenant de la récupération de liqueur de cuisson)'), ('03 03 05', '03 03 05 - boues de désencrage provenant du recyclage du papier'), ('03 03 07', '03 03 07 - refus séparés mécaniquement provenant du broyage de déchets de papier et de carton'), ('03 03 08', '03 03 08 - déchets provenant du tri de papier et de carton destinés au recyclage'), ('03 03 09', '03 03 09 - déchets de boues résiduaires de chaux'), ('03 03 10', "03 03 10 - refus fibreux, boues de fibres, de charge et de couchage provenant d'une séparation mécanique"), ('03 03 11', '03 03 11 - boues provenant du traitement in situ des effluents autres que celles visées à la rubrique 03 03 10'), ('03 03 99', '03 03 99 - déchets non spécifiés ailleurs'), ('04 01 01', "04 01 01 - déchets d'écharnage et refentes"), ('04 01 02', '04 01 02 - résidus de pelanage'), ('04 01 03*', '04 01 03* - déchets de dégraissage contenant des solvants sans phase liquide'), ('04 01 04', '04 01 04 - liqueur de tannage contenant du chrome'), ('04 01 05', '04 01 05 - liqueur de tannage sans chrome'), ('04 01 06', '04 01 06 - boues, notamment provenant du traitement in situ des effluents, contenant du chrome'), ('04 01 07', '04 01 07 - boues, notamment provenant du traitement in situ des effluents, sans chrome'), ('04 01 08', '04 01 08 - déchets de cuir tanné (refentes sur bleu, dérayures, échantillonnages, poussières de ponçage), contenant du chrome'), ('04 01 09', "04 01 09 - déchets provenant de l'habillage et des finitions"), ('04 01 99', '04 01 99 - déchets non spécifiés ailleurs'), ('04 02 09', '04 02 09 - matériaux composites (textile imprégné, élastomère, plastomère)'), ('04 02 10', '04 02 10 - matières organiques issues de produits naturels (par exemple graisse, cire)'), ('04 02 14*', '04 02 14* - déchets provenant des finitions contenant des solvants organiques'), ('04 02 15', '04 02 15 - déchets provenant des finitions autres que ceux visés à la rubrique 04 02 14'), ('04 02 16*', '04 02 16* - teintures et pigments contenant des substances dangereuses'), ('04 02 17', '04 02 17 - teintures et pigments autres que ceux visés à la rubrique 04 02 16'), ('04 02 19*', '04 02 19* - boues provenant du traitement in situ des effluents contenant des substances dangereuses'), ('04 02 20', '04 02 20 - boues provenant du traitement in situ des effluents autres que celles visées à la rubrique 04 02 19'), ('04 02 21', '04 02 21 - fibres textiles non ouvrées'), ('04 02 22', '04 02 22 - fibres textiles ouvrées'), ('04 02 99', '04 02 99 - déchets non spécifiés ailleurs'), ('05 01 02*', '05 01 02* - boues de dessalage'), ('05 01 03*', '05 01 03* - boues de fond de cuves'), ('05 01 04*', "05 01 04* - boues d'alkyles acides"), ('05 01 05*', '05 01 05* - hydrocarbures accidentellement répandus'), ('05 01 06*', "05 01 06* - boues contenant des hydrocarbures provenant des opérations de maintenance de l'installation ou des équipements"), ('05 01 07*', '05 01 07* - goudrons acides'), ('05 01 08*', '05 01 08* - autres goudrons'), ('05 01 09*', '05 01 09* - boues provenant du traitement in situ des effluents contenant des substances dangereuses'), ('05 01 10', '05 01 10 - boues provenant du traitement in situ des effluents autres que celles visées à la rubrique 05 01 09'), ('05 01 11*', "05 01 11* - déchets provenant du nettoyage d'hydrocarbures avec des bases"), ('05 01 12*', '05 01 12* - hydrocarbures contenant des acides'), ('05 01 13', "05 01 13 - boues du traitement de l'eau d'alimentation des chaudières"), ('05 01 14', '05 01 14 - déchets provenant des colonnes de refroidissement'), ('05 01 15*', '05 01 15* - argiles de filtration usées'), ('05 01 16', '05 01 16 - déchets contenant du soufre provenant de la désulfuration du pétrole'), ('05 01 17', '05 01 17 - mélanges bitumineux'), ('05 01 99', '05 01 99 - déchets non spécifiés ailleurs'), ('05 06 01*', '05 06 01* - goudrons acides'), ('05 06 03*', '05 06 03* - autres goudrons'), ('05 06 04', '05 06 04 - déchets provenant des colonnes de refroidissement'), ('05 06 99', '05 06 99 - déchets non spécifiés ailleurs'), ('05 07 01*', '05 07 01* - déchets contenant du mercure'), ('05 07 02', '05 07 02 - déchets contenant du soufre'), ('05 07 99', '05 07 99 - déchets non spécifiés ailleurs'), ('06 01 01*', '06 01 01* - acide sulfurique et acide sulfureux'), ('06 01 02*', '06 01 02* - acide chlorhydrique'), ('06 01 03*', '06 01 03* - acide fluorhydrique'), ('06 01 04*', '06 01 04* - acide phosphorique et acide phosphoreux'), ('06 01 05*', '06 01 05* - acide nitrique et acide nitreux'), ('06 01 06*', '06 01 06* - autres acides'), ('06 01 99', '06 01 99 - déchets non spécifiés ailleurs'), ('06 02 01*', '06 02 01* - hydroxyde de calcium'), ('06 02 03*', "06 02 03* - hydroxyde d'ammonium"), ('06 02 04*', '06 02 04* - hydroxyde de sodium et hydroxyde de potassium'), ('06 02 05*', '06 02 05* - autres bases'), ('06 02 99', '06 02 99 - déchets non spécifiés ailleurs'), ('06 03 11*', '06 03 11* - sels et solutions contenant des cyanures'), ('06 03 13*', '06 03 13* - sels et solutions contenant des métaux lourds'), ('06 03 14', '06 03 14 - sels solides et solutions autres que ceux visés aux rubriques 06 03 11 et 06 03 13'), ('06 03 15*', '06 03 15* - oxydes métalliques contenant des métaux lourds'), ('06 03 16', '06 03 16 - oxydes métalliques autres que ceux visés à la rubrique 06 03 15'), ('06 03 99', '06 03 99 - déchets non spécifiés ailleurs'), ('06 04 03*', "06 04 03* - déchets contenant de l'arsenic"), ('06 04 04*', '06 04 04* - déchets contenant du mercure'), ('06 04 05*', "06 04 05* - déchets contenant d'autres métaux lourds"), ('06 04 99', '06 04 99 - déchets non spécifiés ailleurs'), ('06 05 02*', '06 05 02* - boues provenant du traitement in situ des effluents contenant des substances dangereuses'), ('06 05 03', '06 05 03 - boues provenant du traitement in situ des effluents autres que celles visées à la rubrique 06 05 02'), ('06 06 02*', '06 06 02* - déchets contenant des sulfures dangereux'), ('06 06 03', '06 06 03 - déchets contenant des sulfures autres que ceux visés à la rubrique 06 06 02'), ('06 06 99', '06 06 99 - déchets non spécifiés ailleurs'), ('06 07 01*', "06 07 01* - déchets contenant de l'amiante provenant de l'électrolyse"), ('06 07 02*', '06 07 02* - déchets de charbon actif utilisé pour la production du chlore'), ('06 07 03*', '06 07 03* - boues de sulfate de baryum contenant du mercure'), ('06 07 04*', '06 07 04* - solutions et acides, par exemple acide de contact'), ('06 07 99', '06 07 99 - déchets non spécifiés ailleurs'), ('06 08 02*', '06 08 02* - déchets contenant des chlorosilanes dangereux'), ('06 08 99', '06 08 99 - déchets non spécifiés ailleurs'), ('06 09 02', '06 09 02 - scories phosphoriques'), ('06 09 03*', '06 09 03* - déchets de réactions basées sur le calcium contenant des substances dangereuses ou contaminées par de telles substances'), ('06 09 04', '06 09 04 - déchets de réactions basées sur le calcium autres que ceux visés à la rubrique 06 09 03'), ('06 09 99', '06 09 99 - déchets non spécifiés ailleurs'), ('06 10 02*', '06 10 02* - déchets contenant des substances dangereuses'), ('06 10 99', '06 10 99 - déchets non spécifiés ailleurs'), ('06 11 01', '06 11 01 - déchets de réactions basées sur le calcium provenant de la production de dioxyde de titane'), ('06 11 99', '06 11 99 - déchets non spécifiés ailleurs'), ('06 13 01*', '06 13 01* - produits phytosanitaires inorganiques, agents de protection du bois et autres biocides'), ('06 13 02*', '06 13 02* - charbon actif usé (sauf rubrique 06 07 02)'), ('06 13 03', '06 13 03 - noir de carbone'), ('06 13 04*', "06 13 04* - déchets provenant de la transformation de l'amiante"), ('06 13 05*', '06 13 05* - suies'), ('06 13 99', '06 13 99 - déchets non spécifiés ailleurs'), ('07 01 01*', '07 01 01* - eaux de lavage et liqueurs mères aqueuses'), ('07 01 03*', '07 01 03* - solvants, liquides de lavage et liqueurs mères organiques halogénés'), ('07 01 04*', '07 01 04* - autres solvants, liquides de lavage et liqueurs mères organiques'), ('07 01 07*', '07 01 07* - résidus de réaction et résidus de distillation halogénés'), ('07 01 08*', '07 01 08* - autres résidus de réaction et résidus de distillation'), ('07 01 09*', '07 01 09* - gâteaux de filtration et absorbants usés halogénés'), ('07 01 10*', '07 01 10* - autres gâteaux de filtration et absorbants usés'), ('07 01 11*', '07 01 11* - boues provenant du traitement in situ des effluents contenant des substances dangereuses'), ('07 01 12', '07 01 12 - boues provenant du traitement in situ des effluents autres que celles visées à la rubrique 07 01 11')], max_length=32), blank=True, default=list, size=None, verbose_name='Codes déchets')),
                ('start_date', models.DateTimeField(default=datetime.datetime(2022, 1, 1, 0, 0), verbose_name='Data Start Date')),
                ('end_date', models.DateTimeField(default=django.utils.timezone.now, verbose_name='End Date')),
                ('export_format', models.CharField(choices=[('CSV', 'Texte (.csv)'), ('XLS', 'Excel (.xlsx)')], default='CSV', max_length=20, verbose_name="Format d'export")),
                ('state', models.CharField(choices=[('PENDING', 'En attente'), ('STARTED', 'En cours'), ('SUCCESSFUL', 'Terminé'), ('FAILED', 'Erreur'), ('CANCELED', 'Annulé')], default='PENDING', max_length=20, verbose_name='State')),
                ('created_at', models.DateTimeField(default=django.utils.timezone.now, verbose_name='Created')),
                ('created_by_email', models.EmailField(blank=True, max_length=254, verbose_name='Created by email')),
                ('registry_export_id', models.CharField(blank=True, verbose_name='Trackdéchets Export id')),
                ('created_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL, verbose_name='Created by')),
            ],
            options={
                'verbose_name': 'Téléchargement de registre V2',
                'verbose_name_plural': 'Téléchargements de registre V2',
                'ordering': ('-created_at',),
            },
        ),
    ]
